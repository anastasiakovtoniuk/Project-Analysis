# Progress Report (Alpha)

**Проєкт:** How War Affects Ukraine's Ecology: Air Quality Dynamics in Ukrainian Cities  
**Період:** самостійна робота, статус — ALPHA  
**Дата:** 2025-01-18

## 1) Короткий огляд і мета

Ми досліджуємо вплив повномасштабної війни на якість повітря в містах України, порівнюючи довоєнний період (2019-2021) із воєнним періодом (2022-2025) за ключовими забруднювачами PM2.5 та AQI. Наразі маємо завершену аналітику з повним набором візуалізацій та статистичними висновками.

## 2) Що зроблено

### • ETL/Інтеграція даних
- **Зібрано та уніфіковано** часові ряди PM2.5 та AQI для **92 українських міст** з мережі SaveEcoBot
- **Базова нормалізація** частоти (погодинна → щоденна агрегація) та часових поясів (UTC → Europe/Kyiv)
- **Партиціонування даних** за роками для оптимізації обробки
- **Інтеграція метаданих** міст з адміністративними кодами (KOATUU/KATOTTG)

### • Контроль якості даних
- **Первинні перевірки** на дублікати, від'ємні значення, екстремальні викиди
- **Прапорці для маркування** прогалин та нереалістичних показань
- **Вимоги покриття**: міста включені лише з ≥70% щоденного покриття протягом ≥4 років
- **QA звіти**: зведення для 92 міст; покриття 2019–2025 років

### • Маркування періодів
- **Baseline**: 2019-2021 (довоєнний період)
- **War**: 2022-2025 (воєнний період)
- **Автоматичне маркування** періодів в пайплайні обробки

### • Повна EDA та візуалізація
- **8 публікаційних графіків**: розподіли, рейтинги міст, нерівність, сезонність, таймлайни, покриття, кореляції, хороплети
- **Статистичний аналіз**: медіани, перцентилі, частоти перевищень WHO
- **Регіональні порівняння** та міжміські аналізи

### • Структура репозиторію та воркфлоу
- **Модульна архітектура**: `src/pipeline/`, `src/visualization/`, `src/lib/`
- **Taskfile.yml**: автоматизація пайплайну (`task pipeline`, `task figures`)
- **Конфігурація**: параметри через CLI; YAML шаблон — для довідки
- **Документація**: технічні нотатки та плани

## 3) Воркфлоу команди

**Структура репозиторію:**
- `dataset/` — вихідні CSV з SaveEcoBot
- `src/` — Python пакет з етапами пайплайну та скриптами фігур
- `outputs/` — публікаційні графіки (`figures/`) та QA артефакти (`qa/`)
- `docs/` — документація, плани, логи якості
- `config/` — шаблони конфігурації

**Автоматизація:**
- **Taskfile** для стандартизованих команд
- **Модульний пайплайн**: ingest → aggregate → QA → figures
- **Конфігурація через CLI‑опції** (див. `--help` у CLI)
- **Відстеження якості** через QA артефакти (`outputs/qa/`)

## 4) Ключові методологічні та технічні рішення 

### • Фокус на PM2.5 та AQI як ключових міських індикаторах
- **PM2.5**: основний показник забруднення повітря
- **AQI**: індекс якості повітря для інтерпретації ризиків
- **WHO рекомендації**: 15 µg/m³ як поріг для 24-годинної експозиції

### • Єдині графічні шаблони
- **Розподіли**: порівняння довоєнних vs воєнних періодів
- **Рейтинги міст**: зміни медіанних значень
- **Сезонність**: теплові карти за місяцями та годинами
- **Таймлайни**: ковзні вікна перевищень WHO
- **Просторові карти**: хороплети за регіонами

### • Розділення періодів та статистичний аналіз
- **Формальне порівняння** довоєнного та воєнного періодів
- **Квантильний аналіз**: p10, p50, p90 для центральної тенденції та хвостів
- **Частота перевищень**: відсоток годин вище WHO порогу
- **Регіональна стратифікація**: східні, центральні, західні міста

### • Контроль якості даних
- **Вимоги покриття**: ≥70% щоденного покриття протягом ≥4 років
- **Фільтрація міст**: 92 міста з достатньою якістю даних
- **Валідація**: перевірки діапазонів та послідовності
- **QA звіти**: автоматизована діагностика якості

## 5) Виклики під час самостійної роботи та реакція команди

### • Неповнота та нерівномірність даних
- **Проблема**: прогалини в даних через відключення електроенергії та пошкодження датчиків
- **Рішення**: позначення прогалин, винесення поза розрахунки метрик, вимоги до покриття
- **Результат**: 92 міста з достатньою якістю даних для надійного аналізу

### • Конфаундери (COVID, сезонність, енергетичні кризи)
- **Проблема**: множинні фактори впливають на якість повітря
- **Рішення**: робастні порівняння медіан/квантилів, сезонна декомпозиція
- **Результат**: чіткі патерни зміни після 24.02.2022

### • Гетерогенність між містами
- **Проблема**: різні типи міст (промислові, столичні, західні)
- **Рішення**: стратифікація аналізів, уніфіковані панелі порівняння
- **Результат**: регіональні варіації змін якості повітря

### • Нерівномірна якість метаданих станцій
- **Проблема**: різна якість метаданих станцій моніторингу
- **Рішення**: створення довідника міст з адміністративними кодами
- **Результат**: стандартизована інтеграція з географічними даними

## 6) Попередні спостереження (статистично підтверджені)

### • Національні зміни
- **30% зниження** медіанної концентрації PM2.5 (8.59 → 6.02 µg/m³)
- **50% зниження** частоти перевищень WHO (28.7% → 14.4% годин)
- **Статистично значущі** зміни розподілів та центральних тенденцій

### • Регіональні варіації
- **Східні промислові міста**: найбільші покращення (40-50% зниження перевищень)
- **Столичний регіон**: помірні покращення (30-40% зниження)
- **Західні міста**: менші покращення (20-30% зниження)

### • Часові патерни
- **Миттєвий ефект**: різке покращення після 24.02.2022
- **Тривалість**: підтримка покращень до 2025 року
- **Сезонність**: зменшені зимові спайки забруднення

### • Добові зміни
- **Вирівняні патерни**: зменшені ранкові та вечірні піки
- **Зниження транспорту**: менше забруднення від транспортних засобів
- **Енергетичні порушення**: вплив на опалювальні системи

---

**Статус проєкту:** ALPHA завершено  
**Готовність аналізу:** 100%  
**Кількість міст:** 92  
**Період даних:** 2019-2025  
**Кількість графіків:** 8 публікаційних візуалізацій  
**Наступний етап:** BETA (розширення та публікація)
